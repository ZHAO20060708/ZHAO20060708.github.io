<!-- Multi-language Font Configuration -->
<style>
  :root {
    /* Base fonts for all languages */
    --base-font-family: 'Source Serif 4', 'Noto Serif SC', 'Noto Serif TC', 'Noto Serif JP', 'Noto Serif KR', serif;
    --mono-font-family: 'Source Code Pro', 'Noto Sans Mono CJK SC', monospace;
    --math-font-family: 'STIX Two Math', 'Latin Modern Math', serif;
  }

  /* Font configuration for English (en) */
  html[lang="en"] {
    --article-font-family: 'Source Serif 4', Georgia, 'Times New Roman', serif;
  }

  /* Font configuration for Simplified Chinese (zh-cn) */
  html[lang="zh-cn"], html[lang="zh-Hans"], html[lang="zh"] {
    --article-font-family: 'Noto Serif SC', 'Source Serif 4', 'Songti SC', 'SimSun', serif;
  }

  /* Font configuration for Traditional Chinese (zh-tw) */
  html[lang="zh-tw"], html[lang="zh-Hant"] {
    --article-font-family: 'Noto Serif TC', 'Source Serif 4', 'Songti TC', 'PMingLiU', serif;
  }

  /* Font configuration for Japanese (ja) */
  html[lang="ja"] {
    --article-font-family: 'Noto Serif JP', 'Source Serif 4', 'Yu Mincho', 'MS Mincho', serif;
  }

  /* Font configuration for Korean (ko) */
  html[lang="ko"] {
    --article-font-family: 'Noto Serif KR', 'Source Serif 4', 'Batang', serif;
  }

  body {
    font-family: var(--base-font-family);
  }

  article {
    font-family: var(--article-font-family);
  }

  pre, code, tr {
    font-family: var(--mono-font-family) !important;
  }

  .math, .katex {
    font-family: var(--math-font-family);
  }
</style>

<script>
  (function () {
    // Load fonts from Google Fonts CN (faster for Chinese users)
    const customFonts = [
      "https://fonts.googleapis.cn/css2?family=Source+Serif+4:ital,wght@0,400;0,700;1,400;1,700&display=swap",
      "https://fonts.googleapis.cn/css2?family=Noto+Serif+SC:wght@400;500;700&display=swap",
      "https://fonts.googleapis.cn/css2?family=Noto+Serif+TC:wght@400;500;700&display=swap",
      "https://fonts.googleapis.cn/css2?family=Noto+Serif+JP:wght@400;500;700&display=swap",
      "https://fonts.googleapis.cn/css2?family=Noto+Serif+KR:wght@400;500;700&display=swap",
      "https://fonts.googleapis.cn/css2?family=Source+Code+Pro:wght@400;500;700&display=swap",
      "https://fonts.googleapis.cn/css2?family=Noto+Sans+Mono+CJK+SC:wght@400;700&display=swap"
    ];

    customFonts.forEach(font => {
      const link = document.createElement('link');
      link.href = font;
      link.type = "text/css";
      link.rel = "stylesheet";
      document.head.appendChild(link);
    });
  }());
</script>